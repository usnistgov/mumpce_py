<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Example usage and output &#8212; MUM-PCE 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/NISTPages" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="https://pages.nist.gov/nist-header-footer/css/nist-combined.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://pages.nist.gov/nist-header-footer/js/jquery-1.9.0.min.js"></script>
    <script type="text/javascript" src="https://pages.nist.gov/nist-header-footer/js/nist-header-footer.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="The Cantera interface to MUM-PCE" href="cantera.html" />
    <link rel="prev" title="A toy example using MUM-PCE" href="toy.html" /> 
  </head>
  <body role="document">
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="index.html">MUM-PCE</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="toy.html" title="A toy example using MUM-PCE"
             accesskey="P">previous</a> |
          <a href="cantera.html" title="The Cantera interface to MUM-PCE"
             accesskey="N">next</a> |
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput > div,
div.nbinput div[class^=highlight],
div.nbinput div[class^=highlight] pre,
div.nboutput,
div.nboutput > div,
div.nboutput div[class^=highlight],
div.nboutput div[class^=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class^=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput > :first-child pre {
    color: #303F9F;
}

/* output prompt */
div.nboutput > :first-child pre {
    color: #D84315;
}

/* all prompts */
div.nbinput > :first-child[class^=highlight],
div.nboutput > :first-child[class^=highlight],
div.nboutput > :first-child {
    min-width: 7ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}

/* input/output area */
div.nbinput > :nth-child(2)[class^=highlight],
div.nboutput > :nth-child(2),
div.nboutput > :nth-child(2)[class^=highlight] {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}

/* input area */
div.nbinput > :nth-child(2)[class^=highlight] {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput  > :nth-child(2).stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }
</style>
<div class="section" id="Example-usage-and-output">
<h1>Example usage and output<a class="headerlink" href="#Example-usage-and-output" title="Permalink to this headline">¶</a></h1>
<div class="section" id="Imports">
<h2>Imports<a class="headerlink" href="#Imports" title="Permalink to this headline">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [1]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="o">%</span><span class="k">matplotlib</span> inline

<span class="c1">#import mumpce_py as mumpce</span>
<span class="kn">import</span> <span class="nn">mumpce</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">mumpce.toy</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Models">
<h2>Models<a class="headerlink" href="#Models" title="Permalink to this headline">¶</a></h2>
<div class="section" id="Creating-a-model-directly">
<h3>Creating a model directly<a class="headerlink" href="#Creating-a-model-directly" title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [2]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">experiment_number</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">my_model</span> <span class="o">=</span> <span class="n">mumpce</span><span class="o">.</span><span class="n">toy</span><span class="o">.</span><span class="n">toy_model</span><span class="p">(</span><span class="n">experiment_number</span><span class="p">)</span>
<span class="n">my_model</span><span class="o">.</span><span class="n">get_model_parameter_info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>Out[2]:
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre>
<span></span>array([{&#39;parameter_number&#39;: 0, &#39;parameter_name&#39;: &#39;Parameter 1&#39;},
       {&#39;parameter_number&#39;: 1, &#39;parameter_name&#39;: &#39;Parameter 2&#39;},
       {&#39;parameter_number&#39;: 2, &#39;parameter_name&#39;: &#39;Parameter 3&#39;},
       {&#39;parameter_number&#39;: 3, &#39;parameter_name&#39;: &#39;Parameter 4&#39;},
       {&#39;parameter_number&#39;: 4, &#39;parameter_name&#39;: &#39;Parameter 5&#39;},
       {&#39;parameter_number&#39;: 5, &#39;parameter_name&#39;: &#39;Parameter 6&#39;},
       {&#39;parameter_number&#39;: 6, &#39;parameter_name&#39;: &#39;Parameter 7&#39;}], dtype=object)
</pre></div>
</div>
</div>
</div>
<div class="section" id="Evaluation-and-sensitivity-analysis">
<h3>Evaluation and sensitivity analysis<a class="headerlink" href="#Evaluation-and-sensitivity-analysis" title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [3]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">my_model</span><span class="o">.</span><span class="n">evaluate</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>Out[3]:
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre>
<span></span>1.2214027581601699
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [4]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">V</span><span class="p">,</span><span class="n">S</span> <span class="o">=</span> <span class="n">my_model</span><span class="o">.</span><span class="n">sensitivity</span><span class="p">(</span><span class="mf">0.0000001</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="docutils container">
</div>
<div class="docutils container">
<div class="highlight"><pre>
Value =  1.22140275816
Param  Value+       Value-           Sensitivity
     0  1.22140e+00   1.22140e+00   1.0000e+00
     1  1.22140e+00   1.22140e+00   6.0000e-01
     2  1.22140e+00   1.22140e+00   4.0000e-01
     3  1.22140e+00   1.22140e+00   1.0000e-01
     4  1.22140e+00   1.22140e+00   3.0000e-02
     5  1.22140e+00   1.22140e+00   1.0000e-02
     6  1.22140e+00   1.22140e+00   2.0000e-02
</pre></div></div>
</div>
</div>
</div>
<div class="section" id="Measurements">
<h2>Measurements<a class="headerlink" href="#Measurements" title="Permalink to this headline">¶</a></h2>
<div class="section" id="Initializing-measurements">
<h3>Initializing measurements<a class="headerlink" href="#Initializing-measurements" title="Permalink to this headline">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [5]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">toy_measurements</span> <span class="o">=</span> <span class="n">mumpce</span><span class="o">.</span><span class="n">toy</span><span class="o">.</span><span class="n">toy_initialize</span><span class="p">(</span><span class="s1">&#39;mumpce_toy_experiments.xlsx&#39;</span><span class="p">,</span><span class="n">mumpce</span><span class="o">.</span><span class="n">toy</span><span class="o">.</span><span class="n">toy_model</span><span class="p">)</span>
<span class="n">toy_apps</span> <span class="o">=</span> <span class="n">mumpce</span><span class="o">.</span><span class="n">toy</span><span class="o">.</span><span class="n">toy_initialize</span><span class="p">(</span><span class="s1">&#39;mumpce_toy_apps.xlsx&#39;</span><span class="p">,</span><span class="n">mumpce</span><span class="o">.</span><span class="n">toy</span><span class="o">.</span><span class="n">toy_app</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Sensitivity-analysis-with-Measurements">
<h3>Sensitivity analysis with Measurements<a class="headerlink" href="#Sensitivity-analysis-with-Measurements" title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [6]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="k">for</span> <span class="n">meas</span> <span class="ow">in</span> <span class="n">toy_measurements</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">meas</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">meas</span><span class="o">.</span><span class="n">evaluate_sensitivity</span><span class="p">(</span><span class="n">perturbation</span><span class="o">=</span><span class="mf">0.0000000001</span><span class="p">)</span>
<span class="k">for</span> <span class="n">meas</span> <span class="ow">in</span> <span class="n">toy_apps</span><span class="p">:</span>
    <span class="k">print</span> <span class="p">(</span><span class="n">meas</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">meas</span><span class="o">.</span><span class="n">evaluate_sensitivity</span><span class="p">(</span><span class="n">perturbation</span><span class="o">=</span><span class="mf">0.0000000001</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="docutils container">
</div>
<div class="docutils container">
<div class="highlight"><pre>
Experiment 1
Value =  1.22140275816
Param  Value+       Value-           Sensitivity
     0  1.22140e+00   1.22140e+00   1.0000e+00
     1  1.22140e+00   1.22140e+00   6.0000e-01
     2  1.22140e+00   1.22140e+00   4.0000e-01
     3  1.22140e+00   1.22140e+00   1.0000e-01
     4  1.22140e+00   1.22140e+00   3.0000e-02
     5  1.22140e+00   1.22140e+00   1.0001e-02
     6  1.22140e+00   1.22140e+00   2.0000e-02
Experiment 2
Value =  0.548811636094
Param  Value+       Value-           Sensitivity
     0  5.48812e-01   5.48812e-01   2.0000e-02
     1  5.48812e-01   5.48812e-01   6.0000e-01
     2  5.48812e-01   5.48812e-01   1.0000e+00
     3  5.48812e-01   5.48812e-01   2.9999e-02
     4  5.48812e-01   5.48812e-01   1.0000e-01
     5  5.48812e-01   5.48812e-01   1.0000e-02
     6  5.48812e-01   5.48812e-01   4.0000e-01
Experiment 3
Value =  1.6487212707
Param  Value+       Value-           Sensitivity
     0  1.64872e+00   1.64872e+00   1.0000e+00
     1  1.64872e+00   1.64872e+00   4.0000e-01
     2  1.64872e+00   1.64872e+00   6.0000e-01
     3  1.64872e+00   1.64872e+00   1.0000e-01
     4  1.64872e+00   1.64872e+00   2.0000e-02
     5  1.64872e+00   1.64872e+00   3.0001e-02
     6  1.64872e+00   1.64872e+00   9.9998e-03
Experiment 4
Value =  2.22554092849
Param  Value+       Value-           Sensitivity
     0  2.22554e+00   2.22554e+00   4.0000e-01
     1  2.22554e+00   2.22554e+00   1.0000e+00
     2  2.22554e+00   2.22554e+00   1.0000e-02
     3  2.22554e+00   2.22554e+00   1.9999e-02
     4  2.22554e+00   2.22554e+00   6.0000e-01
     5  2.22554e+00   2.22554e+00   3.0000e-02
     6  2.22554e+00   2.22554e+00   1.0000e-01
Experiment 5
Value =  1.6487212707
Param  Value+       Value-           Sensitivity
     0  1.64872e+00   1.64872e+00   3.0001e-02
     1  1.64872e+00   1.64872e+00   1.0000e-01
     2  1.64872e+00   1.64872e+00   1.0000e+00
     3  1.64872e+00   1.64872e+00   2.0000e-02
     4  1.64872e+00   1.64872e+00   6.0000e-01
     5  1.64872e+00   1.64872e+00   9.9998e-03
     6  1.64872e+00   1.64872e+00   4.0000e-01
Application 1
Value =  1.0
Param  Value+       Value-           Sensitivity
     0  1.00000e+00   1.00000e+00   1.0000e+00
     1  1.00000e+00   1.00000e+00   2.0000e-01
     2  1.00000e+00   1.00000e+00   1.0000e-02
     3  1.00000e+00   1.00000e+00   1.0000e-02
     4  1.00000e+00   1.00000e+00   1.0000e-02
     5  1.00000e+00   1.00000e+00   1.0000e-02
     6  1.00000e+00   1.00000e+00   1.0000e-02
</pre></div></div>
</div>
</div>
</div>
<div class="section" id="Projects">
<h2>Projects<a class="headerlink" href="#Projects" title="Permalink to this headline">¶</a></h2>
<div class="section" id="Create-the-Project">
<h3>Create the Project<a class="headerlink" href="#Create-the-Project" title="Permalink to this headline">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [7]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">my_project</span> <span class="o">=</span> <span class="n">mumpce</span><span class="o">.</span><span class="n">Project</span><span class="p">(</span><span class="n">measurement_list</span><span class="o">=</span><span class="n">toy_measurements</span><span class="p">,</span>
                             <span class="n">application_list</span><span class="o">=</span><span class="n">toy_apps</span><span class="p">,</span>
                             <span class="n">model</span><span class="o">=</span><span class="n">mumpce</span><span class="o">.</span><span class="n">toy</span><span class="o">.</span><span class="n">toy_model</span><span class="p">,</span>
                             <span class="n">parameter_uncertainties</span><span class="o">=</span><span class="n">mumpce</span><span class="o">.</span><span class="n">toy</span><span class="o">.</span><span class="n">parameter_uncertainties</span><span class="p">)</span>

</pre></div>
</div>
</div>
</div>
<div class="section" id="Initializing-Measurements-within-Projects">
<h3>Initializing Measurements within Projects<a class="headerlink" href="#Initializing-Measurements-within-Projects" title="Permalink to this headline">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [8]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">my_project_with_init</span> <span class="o">=</span> <span class="n">mumpce</span><span class="o">.</span><span class="n">Project</span><span class="p">(</span><span class="n">parameter_uncertainties</span><span class="o">=</span><span class="n">mumpce</span><span class="o">.</span><span class="n">toy</span><span class="o">.</span><span class="n">parameter_uncertainties</span><span class="p">,</span>
                                      <span class="n">initialize_function</span><span class="o">=</span><span class="n">mumpce</span><span class="o">.</span><span class="n">toy</span><span class="o">.</span><span class="n">toy_initialize</span><span class="p">)</span>
<span class="n">my_project_with_init</span><span class="o">.</span><span class="n">measurement_initialize</span><span class="p">(</span><span class="s1">&#39;mumpce_toy_experiments.xlsx&#39;</span><span class="p">)</span>
<span class="n">my_project_with_init</span><span class="o">.</span><span class="n">application_initialize</span><span class="p">(</span><span class="s1">&#39;mumpce_toy_apps.xlsx&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is exactly equivalent to creating the <a class="reference internal" href="Project.html#Project.Project" title="Project.Project"><code class="xref py py-class docutils literal"><span class="pre">Project</span></code></a> with the measurement and application lists already created.</p>
</div>
<div class="nbinput docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [9]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="k">print</span><span class="p">(</span><span class="n">my_project</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="n">my_project</span><span class="p">[</span><span class="s1">&#39;Experiment 1&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="docutils container">
</div>
<div class="docutils container">
<div class="highlight"><pre>
Experiment 1 (Active): 0
Experiment 1 (Active): 0
</pre></div></div>
</div>
</div>
<div class="section" id="Sensitivity-analysis-with-Projects">
<h3>Sensitivity analysis with Projects<a class="headerlink" href="#Sensitivity-analysis-with-Projects" title="Permalink to this headline">¶</a></h3>
<p>Do sensitivity over all measurements in the measurement and application lists</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Calling <code class="xref py py-func docutils literal"><span class="pre">Project.find_sensitivity()</span></code> is the same as calling <code class="xref py py-func docutils literal"><span class="pre">Measurement.evaluate_sensitivity()</span></code> for each measurement</p>
</div>
<div class="nbinput docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [10]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">my_project</span><span class="o">.</span><span class="n">find_sensitivity</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="docutils container">
</div>
<div class="docutils container">
<div class="highlight"><pre>
Experiment 1
Value =  1.22140275816
Param  Value+       Value-           Sensitivity
     0  1.28247e+00   1.16324e+00   9.7619e-01
     1  1.25769e+00   1.18617e+00   5.8557e-01
     2  1.24547e+00   1.19780e+00   3.9035e-01
     3  1.22738e+00   1.21546e+00   9.7581e-02
     4  1.22319e+00   1.21962e+00   2.9274e-02
     5  1.22200e+00   1.22081e+00   9.7580e-03
     6  1.22260e+00   1.22021e+00   1.9516e-02
Experiment 2
Value =  0.548811636094
Param  Value+       Value-           Sensitivity
     0  5.49347e-01   5.48276e-01   1.9516e-02
     1  5.65115e-01   5.32979e-01   5.8557e-01
     2  5.76252e-01   5.22678e-01   9.7619e-01
     3  5.49616e-01   5.48009e-01   2.9274e-02
     4  5.51496e-01   5.46140e-01   9.7581e-02
     5  5.49079e-01   5.48544e-01   9.7580e-03
     6  5.59627e-01   5.38205e-01   3.9035e-01
Experiment 3
Value =  1.6487212707
Param  Value+       Value-           Sensitivity
     0  1.73116e+00   1.57021e+00   9.7619e-01
     1  1.68121e+00   1.61686e+00   3.9035e-01
     2  1.69770e+00   1.60116e+00   5.8557e-01
     3  1.65679e+00   1.64070e+00   9.7581e-02
     4  1.65033e+00   1.64711e+00   1.9516e-02
     5  1.65114e+00   1.64631e+00   2.9274e-02
     6  1.64953e+00   1.64792e+00   9.7580e-03
Experiment 4
Value =  2.22554092849
Param  Value+       Value-           Sensitivity
     0  2.26940e+00   2.18253e+00   3.9035e-01
     1  2.33682e+00   2.11956e+00   9.7619e-01
     2  2.22663e+00   2.22446e+00   9.7580e-03
     3  2.22771e+00   2.22337e+00   1.9516e-02
     4  2.29165e+00   2.16133e+00   5.8557e-01
     5  2.22880e+00   2.22229e+00   2.9274e-02
     6  2.23643e+00   2.21471e+00   9.7581e-02
Experiment 5
Value =  1.6487212707
Param  Value+       Value-           Sensitivity
     0  1.65114e+00   1.64631e+00   2.9274e-02
     1  1.65679e+00   1.64070e+00   9.7581e-02
     2  1.73116e+00   1.57021e+00   9.7619e-01
     3  1.65033e+00   1.64711e+00   1.9516e-02
     4  1.69770e+00   1.60116e+00   5.8557e-01
     5  1.64953e+00   1.64792e+00   9.7580e-03
     6  1.68121e+00   1.61686e+00   3.9035e-01
Application 1
Value =  1.0
Param  Value+       Value-           Sensitivity
     0  1.05000e+00   9.52381e-01   9.7619e-01
     1  1.00981e+00   9.90289e-01   1.9516e-01
     2  1.00049e+00   9.99512e-01   9.7580e-03
     3  1.00049e+00   9.99512e-01   9.7580e-03
     4  1.00049e+00   9.99512e-01   9.7580e-03
     5  1.00049e+00   9.99512e-01   9.7580e-03
     6  1.00049e+00   9.99512e-01   9.7580e-03
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [11]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="k">for</span> <span class="n">meas</span> <span class="ow">in</span> <span class="n">my_project</span><span class="p">:</span>
    <span class="n">meas</span><span class="o">.</span><span class="n">evaluate_sensitivity</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="docutils container">
</div>
<div class="docutils container">
<div class="highlight"><pre>
Value =  1.22140275816
Param  Value+       Value-           Sensitivity
     0  1.28247e+00   1.16324e+00   9.7619e-01
     1  1.25769e+00   1.18617e+00   5.8557e-01
     2  1.24547e+00   1.19780e+00   3.9035e-01
     3  1.22738e+00   1.21546e+00   9.7581e-02
     4  1.22319e+00   1.21962e+00   2.9274e-02
     5  1.22200e+00   1.22081e+00   9.7580e-03
     6  1.22260e+00   1.22021e+00   1.9516e-02
Value =  0.548811636094
Param  Value+       Value-           Sensitivity
     0  5.49347e-01   5.48276e-01   1.9516e-02
     1  5.65115e-01   5.32979e-01   5.8557e-01
     2  5.76252e-01   5.22678e-01   9.7619e-01
     3  5.49616e-01   5.48009e-01   2.9274e-02
     4  5.51496e-01   5.46140e-01   9.7581e-02
     5  5.49079e-01   5.48544e-01   9.7580e-03
     6  5.59627e-01   5.38205e-01   3.9035e-01
Value =  1.6487212707
Param  Value+       Value-           Sensitivity
     0  1.73116e+00   1.57021e+00   9.7619e-01
     1  1.68121e+00   1.61686e+00   3.9035e-01
     2  1.69770e+00   1.60116e+00   5.8557e-01
     3  1.65679e+00   1.64070e+00   9.7581e-02
     4  1.65033e+00   1.64711e+00   1.9516e-02
     5  1.65114e+00   1.64631e+00   2.9274e-02
     6  1.64953e+00   1.64792e+00   9.7580e-03
Value =  2.22554092849
Param  Value+       Value-           Sensitivity
     0  2.26940e+00   2.18253e+00   3.9035e-01
     1  2.33682e+00   2.11956e+00   9.7619e-01
     2  2.22663e+00   2.22446e+00   9.7580e-03
     3  2.22771e+00   2.22337e+00   1.9516e-02
     4  2.29165e+00   2.16133e+00   5.8557e-01
     5  2.22880e+00   2.22229e+00   2.9274e-02
     6  2.23643e+00   2.21471e+00   9.7581e-02
Value =  1.6487212707
Param  Value+       Value-           Sensitivity
     0  1.65114e+00   1.64631e+00   2.9274e-02
     1  1.65679e+00   1.64070e+00   9.7581e-02
     2  1.73116e+00   1.57021e+00   9.7619e-01
     3  1.65033e+00   1.64711e+00   1.9516e-02
     4  1.69770e+00   1.60116e+00   5.8557e-01
     5  1.64953e+00   1.64792e+00   9.7580e-03
     6  1.68121e+00   1.61686e+00   3.9035e-01
Value =  1.0
Param  Value+       Value-           Sensitivity
     0  1.05000e+00   9.52381e-01   9.7619e-01
     1  1.00981e+00   9.90289e-01   1.9516e-01
     2  1.00049e+00   9.99512e-01   9.7580e-03
     3  1.00049e+00   9.99512e-01   9.7580e-03
     4  1.00049e+00   9.99512e-01   9.7580e-03
     5  1.00049e+00   9.99512e-01   9.7580e-03
     6  1.00049e+00   9.99512e-01   9.7580e-03
</pre></div></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <a class="reference internal" href="Project.html#Project.Project" title="Project.Project"><code class="xref py py-class docutils literal"><span class="pre">Project</span></code></a> acts as an iterable over its measurements and applications</p>
</div>
</div>
<div class="section" id="Response-surface-analysis">
<h3>Response surface analysis<a class="headerlink" href="#Response-surface-analysis" title="Permalink to this headline">¶</a></h3>
<div class="section" id="Active-parameters">
<h4>Active parameters<a class="headerlink" href="#Active-parameters" title="Permalink to this headline">¶</a></h4>
<div class="nbinput docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [12]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">my_project</span><span class="o">.</span><span class="n">find_active_parameters</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="docutils container">
</div>
<div class="docutils container">
<div class="highlight"><pre>
Experiment 1
Experiment 2
Experiment 3
Experiment 4
Experiment 5
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [13]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="k">print</span><span class="p">(</span><span class="n">my_project</span><span class="o">.</span><span class="n">active_parameters</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">my_project</span><span class="o">.</span><span class="n">active_parameter_uncertainties</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="docutils container">
</div>
<div class="docutils container">
<div class="highlight"><pre>
[0 1 2 4 6]
[ 2.71828183  2.71828183  2.71828183  2.71828183  2.71828183]
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [14]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">my_project</span><span class="o">.</span><span class="n">set_active_parameters</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Response-surface-evaluation">
<h4>Response surface evaluation<a class="headerlink" href="#Response-surface-evaluation" title="Permalink to this headline">¶</a></h4>
<div class="nbinput docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [15]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="k">for</span> <span class="n">meas</span> <span class="ow">in</span> <span class="n">my_project</span><span class="p">:</span>
    <span class="n">meas</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">loglevel</span><span class="o">=</span><span class="bp">False</span> <span class="c1"># Suppress output in sensitivity analysis</span>
<span class="n">my_project</span><span class="o">.</span><span class="n">make_response</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="docutils container">
</div>
<div class="docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="docutils container">
</div>
<div class="stderr docutils container">
<div class="highlight"><pre>
Widget Javascript not detected.  It may not be installed properly. Did you enable the widgetsnbextension? If not, then run &#34;jupyter nbextension enable --py --sys-prefix widgetsnbextension&#34;
Widget Javascript not detected.  It may not be installed properly. Did you enable the widgetsnbextension? If not, then run &#34;jupyter nbextension enable --py --sys-prefix widgetsnbextension&#34;
Widget Javascript not detected.  It may not be installed properly. Did you enable the widgetsnbextension? If not, then run &#34;jupyter nbextension enable --py --sys-prefix widgetsnbextension&#34;
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="docutils container">
</div>
<div class="docutils container">
<div class="highlight"><pre>





</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="docutils container">
</div>
<div class="stderr docutils container">
<div class="highlight"><pre>
Widget Javascript not detected.  It may not be installed properly. Did you enable the widgetsnbextension? If not, then run &#34;jupyter nbextension enable --py --sys-prefix widgetsnbextension&#34;
Widget Javascript not detected.  It may not be installed properly. Did you enable the widgetsnbextension? If not, then run &#34;jupyter nbextension enable --py --sys-prefix widgetsnbextension&#34;
Widget Javascript not detected.  It may not be installed properly. Did you enable the widgetsnbextension? If not, then run &#34;jupyter nbextension enable --py --sys-prefix widgetsnbextension&#34;
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [16]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="k">for</span> <span class="n">meas</span> <span class="ow">in</span> <span class="n">my_project</span><span class="p">:</span>
    <span class="k">print</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">meas</span><span class="o">.</span><span class="n">response</span><span class="o">.</span><span class="n">a</span><span class="p">]))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="docutils container">
</div>
<div class="docutils container">
<div class="highlight"><pre>
[[ 1.    0.6   0.4   0.03  0.02]]
[[ 0.02  0.6   1.    0.1   0.4 ]]
[[ 1.    0.4   0.6   0.02  0.01]]
[[ 0.4   1.    0.01  0.6   0.1 ]]
[[ 0.03  0.1   1.    0.6   0.4 ]]
[[ 1.    0.2   0.01  0.01  0.01]]
</pre></div></div>
</div>
</div>
</div>
<div class="section" id="Solving-the-Project">
<h3>Solving the Project<a class="headerlink" href="#Solving-the-Project" title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [17]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">my_project</span><span class="o">.</span><span class="n">run_optimization</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="docutils container">
</div>
<div class="docutils container">
<div class="highlight"><pre>
(5,)
Both actual and predicted relative reductions in the sum of squares
  are at most 0.000000
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>Out[17]:
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre>
<span></span>(array([-0.58888728,  1.12003551,  0.00704031, -1.62385897,  0.8043988 ]),
 array([[ 0.01488721, -0.01894579, -0.0104734 ,  0.01325883,  0.04734255],
        [-0.01894579,  0.04284732, -0.00131388, -0.04801795, -0.04545704],
        [-0.0104734 , -0.00131388,  0.02343655,  0.01588293, -0.05618227],
        [ 0.01325883, -0.04801795,  0.01588293,  0.08171971,  0.00875019],
        [ 0.04734255, -0.04545704, -0.05618227,  0.00875019,  0.2066927 ]]))
</pre></div>
</div>
</div>
</div>
<div class="section" id="Parameter-uncertainty-analysis">
<h3>Parameter uncertainty analysis<a class="headerlink" href="#Parameter-uncertainty-analysis" title="Permalink to this headline">¶</a></h3>
<p>Because there is an outlier, the parameter values estimated for the constrained model are preposterous. Consistency analysis will fix this.</p>
<div class="nbinput docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [18]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">factors_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span>
                <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span>
                <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
                <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span>
               <span class="p">]</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">my_project</span><span class="o">.</span><span class="n">plot_pdfs</span><span class="p">(</span><span class="n">factors_list</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="docutils container">
</div>
<div class="docutils container">
<img alt="_images/toy_model_example_36_0.png" src="_images/toy_model_example_36_0.png" />
</div>
</div>
</div>
<div class="section" id="Consistency-analysis">
<h3>Consistency analysis<a class="headerlink" href="#Consistency-analysis" title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [19]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">my_project</span><span class="o">.</span><span class="n">remove_inconsistent_measurements</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="docutils container">
</div>
<div class="docutils container">
<div class="highlight"><pre>
(5,)
Both actual and predicted relative reductions in the sum of squares
  are at most 0.000000
Experiment 1
    Uncertainty Ratio:   0.86
    Normalized Score:  -1.47
    Weighted Consistency   1.08
(5,)
Both actual and predicted relative reductions in the sum of squares
  are at most 0.000000
No inconsistent measurements
</pre></div></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Application 1 doesn&#8217;t actually have a value, so the 0.00 value and 0.00 uncertainty are placeholders</p>
</div>
<div class="nbinput docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [20]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="k">print</span> <span class="p">(</span><span class="n">my_project</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">alpha</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="docutils container">
</div>
<div class="docutils container">
<div class="highlight"><pre>
[[ 0.12479468  0.          0.          0.          0.        ]
 [-0.12013267  0.22624567  0.          0.          0.        ]
 [-0.10457956 -0.12695211  0.07784912  0.          0.        ]
 [ 0.05268069 -0.3544285   0.01919642  0.13432677  0.        ]
 [ 0.39559594  0.06070328 -0.1889603  -0.04967127  0.11964893]]
</pre></div></div>
</div>
</div>
<div class="section" id="Parameter-uncertainty-analysis">
<h3>Parameter uncertainty analysis<a class="headerlink" href="#Parameter-uncertainty-analysis" title="Permalink to this headline">¶</a></h3>
<p>The parameter values are much more reasonable with the outlier removed.</p>
<div class="nbinput docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [21]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">factors_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span>
                <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span>
                <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
                <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span>
               <span class="p">]</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">my_project</span><span class="o">.</span><span class="n">plot_pdfs</span><span class="p">(</span><span class="n">factors_list</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="docutils container">
</div>
<div class="docutils container">
<img alt="_images/toy_model_example_42_0.png" src="_images/toy_model_example_42_0.png" />
</div>
</div>
</div>
<div class="section" id="Experimental-design">
<h3>Experimental design<a class="headerlink" href="#Experimental-design" title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [22]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">my_project</span><span class="o">.</span><span class="n">remove_low_information_measurements</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="docutils container">
</div>
<div class="docutils container">
<div class="highlight"><pre>
Experiment 2 Entropy flux   0.002021
Experiment 3 Entropy flux   0.026705
Experiment 4 Entropy flux   0.000073
Experiment 5 Entropy flux  -0.000179
Application 1 Entropy flux  -0.028620
Experiment 1 Entropy flux   0.000000
Experiment 5 Entropy flux  -0.00
Experiment 2 Entropy flux   0.001914
Experiment 3 Entropy flux   0.026593
Experiment 4 Entropy flux   0.000074
Application 1 Entropy flux  -0.028582
Experiment 1 Entropy flux   0.000000
Experiment 5 Entropy flux   0.000000
No low-information measurements
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [23]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="k">print</span> <span class="p">(</span><span class="n">my_project</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">alpha</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="docutils container">
</div>
<div class="docutils container">
<div class="highlight"><pre>
[[ 0.12547508  0.          0.          0.          0.        ]
 [-0.13014049  0.24328481  0.          0.          0.        ]
 [-0.09975008 -0.13704602  0.07786079  0.          0.        ]
 [ 0.0688092  -0.38530355  0.01937665  0.13471687  0.        ]
 [ 0.39525824  0.06522259 -0.1889297  -0.04926863  0.11986361]]
</pre></div></div>
</div>
</div>
<div class="section" id="Parameter-uncertainty-analysis">
<h3>Parameter uncertainty analysis<a class="headerlink" href="#Parameter-uncertainty-analysis" title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [24]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">factors_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span>
                <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span>
                <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
                <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span>
               <span class="p">]</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">my_project</span><span class="o">.</span><span class="n">plot_pdfs</span><span class="p">(</span><span class="n">factors_list</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="docutils container">
</div>
<div class="docutils container">
<img alt="_images/toy_model_example_47_0.png" src="_images/toy_model_example_47_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [25]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">factors_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span>
                <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
                <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span>
                <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span>
               <span class="p">]</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">my_project</span><span class="o">.</span><span class="n">plot_pdfs</span><span class="p">(</span><span class="n">factors_list</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="docutils container">
</div>
<div class="docutils container">
<img alt="_images/toy_model_example_48_0.png" src="_images/toy_model_example_48_0.png" />
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [ ]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [26]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">my_project</span><span class="o">.</span><span class="n">plot_covariance</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="docutils container">
</div>
<div class="docutils container">
<img alt="_images/toy_model_example_50_0.png" src="_images/toy_model_example_50_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [27]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1">#my_project.interpret_model()</span>
<span class="k">print</span><span class="p">(</span><span class="n">my_project</span><span class="o">.</span><span class="n">interpret_model</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="docutils container">
</div>
<div class="docutils container">
<div class="highlight"><pre>

Parameter name                   Value   Uncert  FactVal FactUnc NewVal  Uncert
Parameter 1                    :       1    2.72   -0.74    0.25    0.48    1.29
Parameter 2                    :       1    2.72    0.26    0.55     1.3    1.74
Parameter 3                    :       1    2.72    0.57    0.37     1.8    1.45
Parameter 5                    :       1    2.72   -0.17    0.83    0.84    2.29
Parameter 7                    :       1    2.72    0.36    0.92     1.4    2.52
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [28]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="k">print</span><span class="p">(</span><span class="n">my_project</span><span class="o">.</span><span class="n">print_model_values</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="docutils container">
</div>
<div class="docutils container">
<div class="highlight"><pre>

Parameter name                   Value   Uncert
Parameter 1                    :       1    2.72
Parameter 2                    :       1    2.72
Parameter 3                    :       1    2.72
Parameter 5                    :       1    2.72
Parameter 7                    :       1    2.72
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [29]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="k">print</span><span class="p">(</span><span class="n">my_project</span><span class="o">.</span><span class="n">validate_solution</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="docutils container">
</div>
<div class="docutils container">
<div class="highlight"><pre>

Name                  Value  Unc    OptVal OptUnc MdlVal MdlUnc
Experiment 2        :   0.25   0.05   0.24   0.05  -0.60   0.62
Experiment 3        :   0.20   0.05   0.21   0.05   0.50   0.62
Experiment 4        :   0.70   0.08   0.70   0.08   0.80   0.62
Application 1       :   0.00   0.00  -0.68   0.11   0.00   0.51
Experiment 1        :   0.40   0.05  -0.15   0.09   0.20   0.62
Experiment 5        :   0.40   0.80   1.11   0.34   0.50   0.62
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [30]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="k">print</span><span class="p">(</span><span class="n">my_project</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="docutils container">
</div>
<div class="docutils container">
<div class="highlight"><pre>
project
6 measurements
Experiment 2 (Active): 1
Experiment 3 (Active): 2
Experiment 4 (Active): 3
Application 1 (Application): 0
Experiment 1 (Inconsistent): 0
Experiment 5 (Low Information): 4

Name                  Value  Unc    OptVal OptUnc MdlVal MdlUnc
Experiment 2        :   0.25   0.05   0.24   0.05  -0.60   0.62
Experiment 3        :   0.20   0.05   0.21   0.05   0.50   0.62
Experiment 4        :   0.70   0.08   0.70   0.08   0.80   0.62
Application 1       :   0.00   0.00  -0.68   0.11   0.00   0.51
Experiment 1        :   0.40   0.05  -0.15   0.09   0.20   0.62
Experiment 5        :   0.40   0.80   1.11   0.34   0.50   0.62

Parameter name                   Value   Uncert  FactVal FactUnc NewVal  Uncert
Parameter 1                    :       1    2.72   -0.74    0.25    0.48    1.29
Parameter 2                    :       1    2.72    0.26    0.55     1.3    1.74
Parameter 3                    :       1    2.72    0.57    0.37     1.8    1.45
Parameter 5                    :       1    2.72   -0.17    0.83    0.84    2.29
Parameter 7                    :       1    2.72    0.36    0.92     1.4    2.52

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [31]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="k">print</span><span class="p">(</span><span class="n">my_project</span><span class="o">.</span><span class="n">model_parameter_info</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="docutils container">
</div>
<div class="docutils container">
<div class="highlight"><pre>
[{&#39;parameter_number&#39;: 0, &#39;parameter_name&#39;: &#39;Parameter 1&#39;}
 {&#39;parameter_number&#39;: 1, &#39;parameter_name&#39;: &#39;Parameter 2&#39;}
 {&#39;parameter_number&#39;: 2, &#39;parameter_name&#39;: &#39;Parameter 3&#39;}
 {&#39;parameter_number&#39;: 3, &#39;parameter_name&#39;: &#39;Parameter 4&#39;}
 {&#39;parameter_number&#39;: 4, &#39;parameter_name&#39;: &#39;Parameter 5&#39;}
 {&#39;parameter_number&#39;: 5, &#39;parameter_name&#39;: &#39;Parameter 6&#39;}
 {&#39;parameter_number&#39;: 6, &#39;parameter_name&#39;: &#39;Parameter 7&#39;}]
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [73]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="k">def</span> <span class="nf">plot_covariance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">factors_list</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>

    <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
    <span class="c1">#Make the figure</span>
    <span class="n">fig</span><span class="p">,</span><span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>

    <span class="c1">#Get the alpha matrix</span>
    <span class="k">if</span> <span class="n">factors_list</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">alphared</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">alpha</span><span class="p">[</span><span class="n">factors_list</span><span class="p">]</span>
        <span class="n">active_params</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">active_parameters</span><span class="p">[</span><span class="n">factors_list</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">alphared</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">alpha</span>
        <span class="n">active_params</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">active_parameters</span>

    <span class="c1">#Build the covariance matrix from the alpha matrix</span>
    <span class="n">S</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">alphared</span><span class="p">,</span><span class="n">alphared</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>

    <span class="c1">#Plot the image with a colorbar</span>
    <span class="n">im</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">S</span><span class="p">)),</span><span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Greys&#39;</span><span class="p">,</span><span class="n">origin</span><span class="o">=</span><span class="s1">&#39;upper&#39;</span><span class="p">,</span><span class="n">vmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">vmax</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">im</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span><span class="n">fraction</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>

    <span class="c1">#Get the active parameter names and replace the y ticks</span>
    <span class="n">params_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_parameter_info</span><span class="p">[</span><span class="n">active_params</span><span class="p">]</span>
    <span class="n">param_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">param_info</span><span class="p">[</span><span class="s1">&#39;parameter_name&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">param_info</span> <span class="ow">in</span> <span class="n">params_info</span><span class="p">]</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">set_yticklabels</span><span class="p">([</span><span class="s1">&#39;&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">param_names</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">])</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">([</span><span class="s1">&#39;&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">param_names</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">],</span><span class="n">rotation</span><span class="o">=</span><span class="s1">&#39;vertical&#39;</span><span class="p">)</span>
    <span class="c1">#ax.set_xticklabels([&#39;&#39;] + xlabels)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [74]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">plot_covariance</span><span class="p">(</span><span class="n">my_project</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="docutils container">
</div>
<div class="docutils container">
<img alt="_images/toy_model_example_57_0.png" src="_images/toy_model_example_57_0.png" />
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [ ]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Project.html">Projects and Solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="measurement.html">Measurements and Models</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="toy.html">A toy example using MUM-PCE</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Example usage and output</a></li>
<li class="toctree-l2"><a class="reference internal" href="toy.html#defining-models">Defining models</a></li>
<li class="toctree-l2"><a class="reference internal" href="toy.html#the-initialization-function">The initialization function</a></li>
<li class="toctree-l2"><a class="reference internal" href="toy.html#creating-a-project">Creating a Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="toy.html#solving-the-project">Solving the Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="toy.html#function-summary">Function summary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cantera.html">The Cantera interface to MUM-PCE</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
            </form>
          </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="toy.html" title="A toy example using MUM-PCE"
              >previous</a> |
            <a href="cantera.html" title="The Cantera interface to MUM-PCE"
              >next</a> |
            <a href="py-modindex.html" title="Python Module Index"
              >modules</a> |
            <a href="genindex.html" title="General Index"
              >index</a>
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="_sources/toy_model_example.ipynb.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.1.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>